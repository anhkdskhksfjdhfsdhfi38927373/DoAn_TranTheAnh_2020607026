@model DoAn_TranTheAnh_2020607026.Models.Product

@{
    ViewBag.Title = "DetailProduct";
    Layout = "~/Views/Shared/LayoutPage.cshtml";
    List<DoAn_TranTheAnh_2020607026.Models.Rate> rates = ViewBag.listrate;
}
<link href="~/assets/css/product_page.css" rel="stylesheet">
<form action="/Cartbuy/AddtoCart" method="post">
    <div class="container margin_30">
        <div class="row">
            <div class="col-md-6">
                <img src="~/assets/images/product/@Model.Images" style="width:400px; height:400px;" />
                <input type="hidden" value="@Model.ProductID" name="ProductID" />
            </div>
            <div class="col-md-6">

                <!-- /page_header -->
                <div class="prod_info">
                    <h1>@Model.ProductName</h1>
                    <span class="rating"><i class="icon-star voted"></i><i class="icon-star voted"></i><i class="icon-star voted"></i><i class="icon-star voted"></i><i class="icon-star"></i></span>

                    <div class="prod_options" style="padding:0;">
                        <div class="row">
                            <label class="col-xl-5 col-lg-5 col-md-6 col-6"><strong>Vui</strong> lòng lựa chọn Size <a href="#0" data-bs-toggle="modal" data-bs-target="#size-modal"><i class="ti-help-alt"></i></a></label>
                            <div class="col-xl-4 col-lg-5 col-md-6 col-6">
                                <div class="custom-select-form">
                                    <select class="wide" name="Size">
                                        <option value="1" selected>S</option>
                                        <option value="2">M</option>
                                        <option value="3">L</option>
                                        <option value="4">XL</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-lg-5 col-md-6">
                            <div class="price_main"><span class="new_price">@String.Format("{0:0,0 đ}", Model.newprice(Model.Price, Model.SaleOff)) </span><span class="percentage">@Model.SaleOff%</span> <span class="old_price">@String.Format("{0:0,0 đ}", Model.Price)</span></div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <h3></h3>
                        <pre>@Model.Description</pre>
                    </div>
                </div>

                <!-- /prod_info -->
                <div class="col-lg-4 col-md-6" style="margin-top: 25px;">
                    <div class="btn_add_to_cart"><input type="submit" class="btn_1" value="Thêm vào giỏ hàng" /></div>
                </div>
                <!-- /product_actions -->
            </div>
        </div>
        <!-- /row -->
    </div>
</form>
@*<div class="row justify-content-between" style="margin-left:150px;">
        <div class="col-lg-6">
            <h3>Mô tả sản phẩm</h3>
            <pre>@Model.Description</pre>
        </div>

    </div>*@
@foreach (var rate in rates)
{
    <div class="review_content" style="margin-left: 161px; margin-right: 161px;">
        <div class="clearfix add_bottom_10">

            @if (rate.RateValue == 5)
            {
                <span class="rating"><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><em>@rate.RateValue.0/5.0</em></span>
            }
            @if (rate.RateValue == 4)
            {
                <span class="rating"><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><em>@rate.RateValue.0/5.0</em></span>
            }
            @if (rate.RateValue == 3)
            {
                <span class="rating"><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><em>@rate.RateValue.0/5.0</em></span>
            }
            @if (rate.RateValue == 2)
            {
                <span class="rating"><i class="icon-star"></i><i class="icon-star"></i><em>@rate.RateValue.0/5.0</em></span>
            }
            @if (rate.RateValue == 1)
            {
                <span class="rating"><i class="icon-star"></i><em>@rate.RateValue.0/5.0</em></span>
            }
            <em>@rate.DateRate</em>
        </div>
        <h4>"@rate.User.Username"</h4>
        <p>@rate.Comment.</p>
    </div>
}



@{
    if (Session["UserID"] != null)
    {
        <div class="comment-form" style="margin-left: 161px; margin-right: 161px;">
            @using (Html.BeginForm("RateProduct", "Page", FormMethod.Post))
            {
                <div class="product-rate d-flex align-center">
                    <div class="rate-text"> Đánh giá</div>
                    <div class="rate">
                        <input type="radio" id="star5" name="rate" value="5" />
                        <label for="star5" title="text">5 stars</label>
                        <input type="radio" id="star4" name="rate" value="4" />
                        <label for="star4" title="text">4 stars</label>
                        <input type="radio" id="star3" name="rate" value="3" />
                        <label for="star3" title="text">3 stars</label>
                        <input type="radio" id="star2" name="rate" value="2" />
                        <label for="star2" title="text">2 stars</label>
                        <input type="radio" id="star1" name="rate" value="1" />
                        <label for="star1" title="text">1 star</label>
                    </div>
                    <input type="hidden" value="@Model.ProductID" name="ProductID" />
                </div><label class="comment-label">Nhận xét (ý kiến sẽ thêm thông tin cho người khác mua hàng)</label><div class="form-element mg-t-20">
                    <textarea class="form-control" name="evaluate_content" placeholder="Hãy cho chúng tôi biết đánh giá của bạn về sản phẩm này!" style="height:200px;"></textarea>
                </div><div class="d-flex align-center">

                    <button class="btn btn__solid mg-t-10" name="evaluate_add" type="submit">Gửi nhận xét</button>
                </div>
            }
        </div>
    }

}
@{
    if (Session["UserID"] == null)
    {
        <a class="btn btn__solid mg-t-10" href="@Url.Action("Login","Page")" style="margin-left:150px;">Đăng nhập để đánh giá</a>
    }

}

<!-- /container -->


<style>
    .custom-select-form select {
        width: 150px; /* Adjust width as needed */
        height: 30px; /* Adjust height as needed */
        padding: 5px;
        border: 1px solid #ccc;
        border-radius: 5px; /* Add some rounded corners */
        font-size: 16px;
        /* Add other styles like background color, font family, etc. */
    }

        /* Style the options inside the select */
        .custom-select-form select option {
            padding: 5px;
        }

        /* Style the currently selected option (optional) */
        .custom-select-form select:focus {
            outline: none; /* Remove default outline on focus */
            border-color: #999; /* Change border color on focus */
        }

    .rate {
        float: left;
        height: 46px;
        padding: 0 10px;
    }

        .rate:not(:checked) > input {
            position: absolute;
            top: -9999px;
        }

        .rate:not(:checked) > label {
            float: right;
            width: 1em;
            overflow: hidden;
            white-space: nowrap;
            cursor: pointer;
            font-size: 30px;
            color: #ccc;
        }

            .rate:not(:checked) > label:before {
                content: '★ ';
            }

        .rate > input:checked ~ label {
            color: #ffc700;
</style>